{"version":3,"sources":["lib/index.js","App.js","index.js"],"names":["MaskList","Mask","content","options","body","document","node","createElement","handleContainerClose","unmountComponentAtNode","remove","documentElement","style","overflow","push","height","width","appendChild","render","React","cloneElement","__proto__","closeAll","length","setTimeout","shift","window","location","hash","localMaskContainerStyle","localMaskStyle","localContentStyle","defultMaskClick","defaultBgColor","backgroundColor","MaskContainer","children","mask","maskClosable","maskStyle","contentStyle","contentClass","containerClass","handleClose","className","merge","onClick","compose","position","zIndex","top","left","border","App","props","opacity","this","handleCloseMask","alert","handleProcess","handleShowMask","bind","handleShowDarknessMask","handleShowTransparentMask","handleShowNonCloseMask","handleShowMaskCloseWithProcess","Component","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3547a164.chunk.js","sourcesContent":["import React from 'react'\nimport { render, unmountComponentAtNode } from 'react-dom'\nimport { merge, compose } from 'ramda'\nimport './index.css'\n\nconst MaskList = []\n\nconst Mask = (content, options) => {\n    const body = document.body\n    const node = document.createElement('div')\n\n    const preventDefaul = e => e.preventDefault()\n    const handleContainerClose = () => {\n      if (unmountComponentAtNode(node)) node.remove()\n      document.documentElement.style.overflow = ''\n      document.body.style.overflow = ''\n    }\n\n    MaskList.push(handleContainerClose)\n\n    document.documentElement.style.overflow = 'hidden'\n    document.body.style.overflow = 'hidden'\n\n    node.style.height = '100%'\n    node.style.width = '100%'\n    body.appendChild(node)\n\n    render(\n      <MaskContainer { ...{ handleContainerClose } } { ...options}>\n        { React.cloneElement(content, { handleContainerClose }) }\n      </MaskContainer>,\n      node\n    )\n    return handleContainerClose\n}\n\nMask.__proto__.closeAll = () => {\n  if (MaskList.length > 0) {\n    setTimeout(MaskList.shift(), 0)\n    Mask.closeAll()\n    window.location.hash = ''\n  }\n}\n// 以下为扩展属性\nconst localMaskContainerStyle = {}\nconst localMaskStyle = {}\nconst localContentStyle = {}\nconst defultMaskClick = () => {}\n\nconst defaultBgColor = { backgroundColor: '#000' }\n\nconst MaskContainer = (\n  {\n    children,                 // 遮罩的内容\n    mask = true,              // 是否展示遮罩\n    maskClosable = true,      // 遮罩是否可被关闭\n    style = {},               // 容器的样式\n    maskStyle = {},           // 遮罩的样式\n    contentStyle,             // 内容的样式，不建议设置，因为可能会屏蔽掉mask的点击\n    contentClass = '',        // 内容的样式类\n    containerClass = '',      // 容器的样式类\n    handleContainerClose,\n    handleClose = defultMaskClick, // 遮罩的点击，与关闭一起执行\n  }\n) =>\n(\n  <div className={ `mask-container ${ containerClass }` } style={ merge(localMaskContainerStyle, style) }>\n    <div className='mask'\n         onClick={ maskClosable ? compose(handleContainerClose, handleClose) : defultMaskClick }\n         style={\n           !mask ? merge(localMaskStyle, maskStyle)\n                 : compose(merge(localMaskStyle), merge(defaultBgColor))(maskStyle)\n         }\n    />\n    <div className={ `content ${ contentClass }` } style={ merge(localContentStyle, contentStyle) }>\n      { children }\n    </div>\n  </div>\n)\n\nexport default Mask\n","import React from 'react'\nimport Mask from './lib'\n\nimport './App.css'\n\nconst contentStyle = {\n  height: '50%',\n  width: '50%',\n  position: 'absolute',\n  zIndex: 2,\n  top: '25%',\n  left: '25%',\n  backgroundColor: '#fff',\n  border: '1px solid #000'\n}\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n\n  }\n  componentDidMount() {}\n  handleShowMask() {\n    Mask(<div style={contentStyle}>abc</div>)\n  }\n  handleShowDarknessMask() {\n    Mask(<div style={contentStyle}>abc</div>, { maskStyle: { opacity: .9 } })\n  }\n  handleShowTransparentMask() {\n    Mask(<div style={contentStyle}>cde</div>, { mask: false })\n  }\n  handleShowNonCloseMask() {\n    this.handleCloseMask = Mask(\n                             <div style={contentStyle}>\n                               <button onClick={ () => this.handleCloseMask() }>关闭</button>\n                             </div>,\n                             { maskClosable: false }\n                           )\n  }\n  handleProcess() {\n    alert('im closed')\n  }\n  handleShowMaskCloseWithProcess() {\n    Mask(<div style={contentStyle}>efg</div>, { handleClose: this.handleProcess })\n  }\n  render() {\n    return (\n      <div className=\"App\">\n        <button onClick={ this.handleShowMask.bind(this) }>弹出遮罩</button>\n\n        <button onClick={ this.handleShowDarknessMask.bind(this) }>弹出深色遮罩</button>\n\n        <button onClick={ this.handleShowTransparentMask.bind(this) }>弹出透明遮罩</button>\n\n        <button onClick={ this.handleShowNonCloseMask.bind(this) }>弹出不可关闭的透明遮罩</button>\n\n        <button onClick={ this.handleShowMaskCloseWithProcess.bind(this) }>弹出遮罩，关闭后处理逻辑</button>\n      </div>\n    )\n  }\n}\n\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}